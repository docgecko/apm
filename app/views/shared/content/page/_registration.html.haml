= yield :nav_main

#mainContainer
	#containerPage
		#container
			#subContentLeft
				= yield :left_nav

			#subContentMiddle
				#bodyHeader
					= image_tag "/assets/pages/photos/44/page/HdrContactUs.jpg"
					%h1== Register for a Class in #{@course.name}

				#contactContent
					- if flash[:error] || flash[:notice]
						= content_tag :div, flash[:error] || flash[:notice], :id => 'notice', :class => ('error' if flash[:error])
						:javascript
							setTimeout("new Effect.Fade('notice');", 1000)
					
					%p Please complete the following form to register for this course.

					%p
						%strong Trouble completing this form? Talk to us directly! Please call +44 (0)20 7692 5089.
					
					%p
						Note that fields marked with a star (
						%span.blue>< *
						) are required.

				
					= form_for :registration, :url =>  training_event_registration_index_path, :html => { :id => "training_event_registration_form", :name => "training_event_registration_form" } do |f|
					
						%h2 Course Information
					
						%table.contactTable{:border => "0"}
							%tr
								%td.labelLayout{:class => "label"}
									Course Title
								%td.textboxLayout{:class => "label", :style => "text-align: left; padding-left: 20px;"}
									= @course.name

							%tr
								%td.labelLayout{:class => "label"}
									Dates & Times
								%td.textboxLayout{:class => "label", :style => "text-align: left; padding-left: 20px;"}
									- if @schedule.start == @schedule.end
										== #{@schedule.start.strftime('%b %e, %Y')}
										== for #{@course.duration}
									- else
										== From #{@schedule.start.strftime('%b %e')} to #{@schedule.end.strftime('%b %e, %Y')}
										== for #{@course.duration} each day

							%tr
								%td.labelLayout{:class => "label"}
									Location
								%td.textboxLayout{:class => "label", :style => "text-align: left; padding-left: 20px;"}
									= @schedule.city

													
						%h2 Customer Information
						
						%table.contactTable{:border => "0"}
							%tr
								%td.labelLayout
									= f.label :salutation, "Salutation", :class => "label"
									%span.blue *

								%td.radioButtonLayout
									%table{:border => "0", :style => "width:340px;"}
										%tr
											- [ 'Mr.', 'Mrs.', 'Ms.', 'Miss', 'Dr.', 'Prof.' ].each do |salutation|
												%td
													= radio_button_tag 'registration[salutation]', salutation, @salutation == salutation, :validate => "required:true"
													= label_tag "salutation_#{salutation}", salutation.humanize

									%label{ :for => "registration[salutation]", :class => "error" } Please make a selection.

							%tr
								%td.labelLayout
									= f.label :name, "Full name", :class => "label"
									%span.blue *

								%td.textboxLayout
									= f.text_field :name, :maxlength => "150", :class => "text_box", :style => "width:340px", :validate => "required:true"
									
							%tr
								%td.labelLayout
									= f.label :organisation, "Organisation", :class => "label"
								%td.textboxLayout
									= f.text_field :organisation, :maxlength => "100", :class => "text_box", :style => "width:340px", :validate => "required:true"
									
							%tr
								%td.labelLayout
									= f.label :role, "Your role in the organisation", :class => "label"
								%td.textboxLayout
									= f.text_field :role, :maxlength => "100", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :email, "Email address", :class => "label"
									%span.blue *
								%td.textboxLayout
									= f.text_field :email, :maxlength => "100", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :telephone, "Telephone number", :class => "label"
								%td.textboxLayout
									= f.text_field :telephone, :maxlength => "50", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :mobile, "Mobile number", :class => "label"
								%td.textboxLayout
									= f.text_field :mobile, :maxlength => "50", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :address1, "Address 1", :class => "label"
								%td.textboxLayout
									= f.text_field :address1, :maxlength => "250", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :address2, "Address 2", :class => "label"
								%td.textboxLayout
									= f.text_field :address2, :maxlength => "250", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :city, "City", :class => "label"
								%td.textboxLayout
									= f.text_field :city, :maxlength => "150", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :county, "County/State/Region", :class => "label"
								%td.textboxLayout
									= f.text_field :county, :maxlength => "150", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :postcode, "Post/ZipCode", :class => "label"
								%td.textboxLayout
									= f.text_field :postcode, :maxlength => "50", :class => "text_box", :style => "width:340px"

							%tr
								%td.labelLayout
									= f.label :country, "Country", :class => "label"
								%td.textboxLayout
									/ = f.country_select :country

							%tr
								%td.labelLayout
									= f.label :telephone, "How did you hear about us?", :class => "label"
								%td.textboxLayout
									- @referral = { 'Google' => 'Google', 'Yahoo' => 'Yahoo', 'MSN/Live' => 'MSN/Live', 'Existing Customer' => 'Existing Customer', 'LinkedIn' => 'LinkedIn', 'Xing' => 'Xing', 'Facebook' => 'Facebook', 'User Group/Meeting' => 'User Group/Meeting', 'Word of Mouth' => 'Word of Mouth', 'Other' => 'Other' }
									= f.select 'referral', @referral, options = {:prompt => "-- Please Select --"}, html = { :class => "text_box", :style => "width:340px" }
									
						%br/
						%p.consent
							By submitting this request, you acknowledge that you have read the
							= link_to "Privacy Policy", privacy_pages_url
							and that you agree to our data processing. If you change your mind at any time about wishing to receive the information from us, you can send us a message using the
							= link_to "Contact Us", contact_index_url
							form or an
							%a= mail_to "contact@apm.eu.com", "email", :encode => "hex"
							\.

						.button
							= f.submit "Send", :class => "button_layout"
				
					%div{ :style => "color:Red;display:none;" }

				.clear	

.clear